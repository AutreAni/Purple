(this["webpackJsonplogin-with-fb"]=this["webpackJsonplogin-with-fb"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(21),r=n.n(s),i=(n(62),n(63),n(4)),l=n(50),o=n.n(l),u=n(6),j=n(0),b=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(j.jsxs)("div",{className:e.className+" inputField",children:[Object(j.jsx)(u.a,{className:"icon",icon:e.icon}),Object(j.jsx)("input",{name:e.name,type:e.inputType,placeholder:e.placeholder,onBlur:function(t){e.handleFocusout(t)},value:a,onChange:function(e){s(e.target.value)}}),e.errorMsg?Object(j.jsx)("span",{className:"error__msg",children:e.errorMsg}):null]})},d={Username:function(e){return!!e&&e.length},Password:function(e){return!(!(e.match(/[a-z]/g)&&e.match(/[A-Z]/g)&&e.match(/[0-9]/g))||e.length<8)},Email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},ConfPass:function(e){return e===document.querySelector("input[name = Password]").value}},O="SAVE_CURRENT_USER",h="REMOVE_CURRENT_USER",m="UPDATE_CURRENT_USER",p="SAVE_USER_TO_PREVIEW",f="SET_AUDIENCE_LIST",x="EMPTY_AUDIENCE_LIST",v=function(e){return function(t){return t({type:m,payload:e})}},g=n(3),_=n(5),N=n(52),S=(n(72),function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),l=r[0],h=r[1],m=Object(c.useState)(!0),p=Object(i.a)(m,2),f=p[0],x=p[1],v=Object(c.useState)(!0),S=Object(i.a)(v,2),w=S[0],y=S[1],E=Object(c.useState)(!0),C=Object(i.a)(E,2),T=C[0],k=C[1],U=Object(c.useState)(!0),P=Object(i.a)(U,2),I=P[0],D=P[1],A=Object(c.useState)(),B=Object(i.a)(A,2),F=B[0],L=B[1],M=Object(c.useState)(!1),R=Object(i.a)(M,2),G=R[0],H=R[1],J="http://localhost:3000/users",W=!1,q=Object(g.b)(),K={Username:x,Password:k,Email:y,ConfPass:D},z=function(e){if("INPUT"===e.target.tagName){var t=e.target.name;if(t){var n=d[t];l&&K[t](n(e.target.value))}}},V=function(e){q(function(e,t){return function(n){fetch(t,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),n({type:O,payload:e})})).catch((function(e){return console.log(e)}))}}(e,J))},Y=function(e){H(!0);var t=W?"".concat(J,"?email=").concat(e.email):"".concat(J,"?username=").concat(e.username,"&password=").concat(e.password);fetch(t).then((function(e){if(200!==e.status)throw H(!1),new Error;return H(!1),L(null),e.json()})).then((function(t){return t.length||W?!t.length&&W?(H(!1),void V(e)):void q(function(e){return{type:O,payload:e}}(t[0])):(H(!1),void L("Wrong username or password"))})).catch((function(e){H(!1),L("Server is not connected")}))};return Object(j.jsx)("div",{className:"sign__form",children:Object(j.jsx)("div",{className:"main__wrapper",children:Object(j.jsxs)("div",{className:"inner__wrapper",children:[Object(j.jsxs)("div",{className:"buttons__wrapper",children:[Object(j.jsx)("div",{className:n?"active btn__wrapper":"btn__wrapper",children:Object(j.jsx)("button",{className:"button",onClick:function(){!l&&n||(l&&h(!1),n||a(!0),L(null),x(!0),y(!0),D(!0),k(!0))},children:"Login"})}),Object(j.jsx)("div",{className:l?"active btn__wrapper":"btn__wrapper",children:Object(j.jsx)("button",{className:"button",onClick:function(){l&&!n||(l||h(!0),n&&a(!1),L(null),x(!0),y(!0),D(!0),k(!0))},children:"Sign Up"})})]}),Object(j.jsxs)("form",{id:"form",onSubmit:function(e){var t=e.target.closest("form");e.preventDefault();var c,a={};if(a.username=t.Username.value,a.email=l?t.Email.value:null,a.password=t.Password.value,a.confPass=l?t.ConfPass.value:null,n&&!W){if(!a.username.length||!a.password.length)return void L("*All fields are required")}else if(l){if(!(a.username.length&&a.password.length&&a.email.length&&a.confPass.length))return void L("*All fields are required");if(!(f&&w&&T&&I))return;c=a,H(!0),fetch("".concat(J,"?username=").concat(c.username)).then((function(e){if(200!==e.status)throw H(!1),new Error;return H(!1),L(null),e.json()})).then((function(e){if(e.length)return H(!1),void L("Username is already taken");fetch("".concat(J,"?email=").concat(c.email)).then((function(e){return e.json()})).then((function(e){if(e.length)return H(!1),void L("An account with this email already exists");H(!1),L(null),V(c)})).catch((function(e){H(!1),L("Server is not connected")}))})).catch((function(e){H(!1),L("Server is not connected")}))}Y(a)},onFocus:function(e){if("INPUT"===e.target.tagName){var t=e.target.name;t&&(K[t](!0),L(null))}},children:[Object(j.jsx)(b,{className:"username__wrapper",name:"Username",icon:_.u,inputType:"text",placeholder:"Username",handleFocusout:z,errorMsg:!f&&l?"*Field can not be empty":null}),l?Object(j.jsx)(b,{className:"email__wrapper",name:"Email",icon:_.g,inputType:"email",placeholder:"Email",handleFocusout:z,errorMsg:w?null:"*Please, insert a valid email"}):null,Object(j.jsx)(b,{className:"password__wrapper",name:"Password",icon:_.l,inputType:"password",placeholder:"Password",handleFocusout:z,errorMsg:!T&&l?"*Password must be at least 8 characters, must contain a lowercase letter, an uppercase letter and a digit":null}),l?Object(j.jsx)(b,{className:"confirm__password__wrapper",name:"ConfPass",icon:_.l,inputType:"password",placeholder:"Confirm password",handleFocusout:z,errorMsg:I?null:"*Passwords should match"}):null,Object(j.jsxs)("div",{className:"sign__btn ".concat(!F&&!G&&(!l||f&&T&&w&&I)?"":"disabled"),children:[Object(j.jsx)("button",{children:l?"Register":"Log In"}),F?Object(j.jsx)("p",{className:"errorMsg",children:F}):null]}),n?Object(j.jsxs)("div",{className:"facebook__login",children:[Object(j.jsxs)("div",{className:"or__wrapper",children:[Object(j.jsx)("span",{className:"or"}),Object(j.jsx)("span",{className:"or text",children:"or"}),Object(j.jsx)("span",{className:"or"})]}),Object(j.jsxs)("div",{className:"fbButton",children:[Object(j.jsx)(u.a,{icon:N.a,className:"faFacebook"}),Object(j.jsx)(o.a,{appId:"455003679284935",autoLoad:!1,fields:"name,email,picture",onClick:function(){W=!0},callback:function(e){W&&("unknown"!==e.status?Y({email:e.email,username:e.name.split(" ")[0],picture:e.picture.data.url}):W=!1)}})]})]}):null]})]})})})}),w=n.p+"static/media/profile-placeholder.e4c4e82d.png",y=(n(73),function(e){var t=e.className,n=e.avatar;return Object(j.jsx)("img",{className:t+" avatar",src:n||w,alt:""})}),E=(n(74),function(e){var t=e.goToMainProfile,n=e.username;return Object(j.jsx)("span",{className:"username",onClick:t,children:n})}),C=(n(75),n(76),function(e){return{type:"SET_SUBPAGE_TO_".concat(e),payload:e}}),T=function(e){var t=e.audience,n=Object(g.b)(),c=Object(g.c)((function(e){return e.userToPreview.activeSubpage}));return Object(j.jsxs)("div",{className:"audience__info",onClick:function(){return n(C("AUDIENCE"===c?"":"AUDIENCE"))},children:[Object(j.jsx)(u.a,{icon:_.v,className:"icon audience__icon"}),Object(j.jsxs)("span",{className:"audience__qt",children:["Audience ",null===t||void 0===t?void 0:t.length]})]})},k=function(e){var t=e.birthDate;return Object(j.jsx)("div",{className:"details__fields",children:Object(j.jsxs)("span",{children:[Object(j.jsx)(u.a,{icon:_.a,className:"icon"}),"Born on ",t]})})},U=function(e){var t=e.education;return Object(j.jsx)("div",{className:"details__fields",children:Object(j.jsxs)("span",{children:[Object(j.jsx)(u.a,{icon:_.t,className:"icon"}),"Studied ",t]})})},P=function(e){var t=e.employment;return Object(j.jsxs)("div",{className:"details__fields",children:[Object(j.jsx)(u.a,{icon:_.b,className:"icon"}),Object(j.jsxs)("span",{children:["Works as ",t]})]})},I=function(e){var t=e.livesIn;return Object(j.jsxs)("div",{className:"details__fields lives__in",children:[Object(j.jsx)(u.a,{icon:_.m,className:"location__icon icon"}),Object(j.jsxs)("span",{children:["Lives in ",t]})]})},D=function(e){return{type:p,payload:e}},A=n(17),B=function(e){return{type:"SET_PAGE_TO_".concat(e),payload:e}},F=function(){var e,t,n,a,s=Object(g.c)((function(e){return e.currentUser})),r=Object(g.b)();return Object(j.jsx)(c.Fragment,{children:s?Object(j.jsxs)("div",{className:"sectionProfile",onClick:function(){r(B("PROFILE")),r(D(s))},children:[Object(j.jsx)(A.b,{to:"/profile",children:Object(j.jsxs)("div",{className:"avatar__wrapper",children:[Object(j.jsx)(y,{className:"section__avatar",avatar:s.picture}),Object(j.jsx)(E,{username:s.username})]})}),Object(j.jsxs)("div",{className:"section__details",children:[Object(j.jsx)(A.b,{to:"/audience",children:Object(j.jsx)(T,{audience:s.audience,pageToPreview:function(){return null}})}),Object(j.jsxs)(A.b,{to:"/profile",children:[(null===(e=s.about)||void 0===e?void 0:e.birthDate)?Object(j.jsx)(k,{birthDate:s.about.birthDate}):null,(null===(t=s.about)||void 0===t?void 0:t.LivesIn)?Object(j.jsx)(I,{livesIn:s.about.livesIn}):null,(null===(n=s.about)||void 0===n?void 0:n.employment)?Object(j.jsx)(P,{employment:s.about.employment}):null,(null===(a=s.about)||void 0===a?void 0:a.education)?Object(j.jsx)(U,{education:s.about.education}):null]})]})]}):null})},L=n(23),M=n(24),R=n(27),G=n(26),H=function(){var e=Object(g.c)((function(e){return e.currentUser.picture}));return Object(j.jsx)("div",{className:"inputDiv",children:Object(j.jsx)("span",{className:"timeline-avatar",children:Object(j.jsx)(y,{avatar:e})})})},J=(n(41),n(120)),W=n(119);var q=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],r=function(){return s(!1)};return Object(j.jsxs)("div",{className:"exampleDiv",children:[Object(j.jsx)(J.a,{onClick:function(){return s(!0)},className:"btn-color-c",children:e.name}),Object(j.jsxs)(W.a,{show:a,onHide:r,children:[Object(j.jsx)(W.a.Header,{closeButton:!0,children:Object(j.jsx)(W.a.Title,{children:e.title})}),Object(j.jsx)(W.a.Body,{children:e.message}),e.input,Object(j.jsxs)(W.a.Footer,{children:[Object(j.jsx)(J.a,{variant:"secondary",onClick:r,children:"Close"}),Object(j.jsx)(J.a,{onClick:r,children:"Save Changes"})]})]})]})},K=function(e){Object(R.a)(n,e);var t=Object(G.a)(n);function n(){return Object(L.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"navDiv",children:[Object(j.jsx)(H,{}),Object(j.jsxs)("nav",{className:"navContainer",children:[Object(j.jsx)("input",{className:"navInput",type:"text",placeholder:"Add a post..."}),Object(j.jsxs)("ul",{className:"ulClass",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)(q,{name:"Photo",title:"Edit your photo",message:"Select images to share",input:Object(j.jsx)("input",{type:"file"})}),Object(j.jsx)(u.a,{className:"marginIcon",icon:_.n})]}),Object(j.jsxs)("li",{children:[Object(j.jsx)(q,{name:"Video",title:"Select/Edit your video",message:"Select video to share",input:Object(j.jsx)("input",{type:"file"})}),Object(j.jsx)(u.a,{className:"marginIcon",icon:_.q})]}),Object(j.jsxs)("li",{children:[Object(j.jsx)(q,{name:"Event",title:"Create event",message:"Write here",input:Object(j.jsx)("textarea",{})}),Object(j.jsx)(u.a,{className:"marginIcon",icon:_.c})]})]})]})]})}}]),n}(c.Component),z=function(){return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)(K,{})})},V=(n(81),function(e){Object(R.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(L.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={heart:0,thumbsDown:0,thumbsUp:0},e.handelIncrementHeart=function(){e.setState({heart:e.state.heart+1})},e.handelIncrementThumbUp=function(){e.setState({thumbsUp:e.state.thumbsUp+1})},e.handelIncrementThumbDown=function(){e.setState({thumbsDown:e.state.thumbsDown+1})},e}return Object(M.a)(n,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)("ul",{className:"likeUl",children:[Object(j.jsxs)("li",{children:[" ",Object(j.jsx)("span",{children:this.formatHeart()})," ",Object(j.jsx)(u.a,{onClick:this.handelIncrementHeart,icon:_.h})]}),Object(j.jsxs)("li",{children:[" ",Object(j.jsx)("span",{children:this.formatUp()})," ",Object(j.jsx)(u.a,{onClick:this.handelIncrementThumbUp,icon:_.s})]}),Object(j.jsxs)("li",{children:[" ",Object(j.jsxs)("span",{children:[this.formatDown()," "]})," ",Object(j.jsx)(u.a,{onClick:this.handelIncrementThumbDown,icon:_.r})]})]})})}},{key:"formatHeart",value:function(){var e=this.state.heart;return 0===e?null:e}},{key:"formatUp",value:function(){var e=this.state.thumbsUp;return 0===e?null:e}},{key:"formatDown",value:function(){var e=this.state.thumbsDown;return 0===e?null:e}}]),n}(c.Component)),Y=function(e){var t=e.blogs;return Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsxs)("div",{className:"divContainer",children:[Object(j.jsx)("p",{children:e.date}),Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:e.logo,className:"logoT",alt:"logo"}),Object(j.jsx)("a",{href:e.link,children:e.title})]}),Object(j.jsx)("p",{children:e.text}),Object(j.jsx)("img",{src:e.img,className:" imgStyle",alt:"img"}),Object(j.jsx)("div",{children:Object(j.jsx)(V,{})}),Object(j.jsx)("div",{className:"inputDiv-c",children:Object(j.jsx)("input",{type:"text",placeholder:"Add a comment ..."})})]},e.id)}))})},Z=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),l=r[0],o=r[1],u=Object(c.useState)(null),b=Object(i.a)(u,2),d=b[0],O=b[1];return Object(c.useEffect)((function(){fetch(" http://localhost:3000/blogs").then((function(e){if(!e.ok)throw Error("could not fetch tha data");return e.json()})).then((function(e){a(e),o(!1),O(null)})).catch((function(e){o(!1),O(e.message),console.log(e.message)}))}),[]),Object(j.jsxs)("div",{children:[d&&Object(j.jsxs)("div",{children:[" ",d," "]}),l&&Object(j.jsx)("div",{children:"Loading..."}),n&&Object(j.jsx)(Y,{blogs:n})]})},$=function(){return Object(j.jsx)(Z,{})},Q=(n(82),function(){return Object(j.jsxs)("div",{className:"search__wrapper",children:[Object(j.jsx)(u.a,{icon:_.o,className:"search__icon"}),Object(j.jsx)("input",{type:"text"})]})}),X=(n(83),function(e){var t=e.userData,n=Object(g.b)();return Object(j.jsxs)("div",{className:"shortProfile",onClick:function(){n(D(t))},children:[Object(j.jsx)(y,{className:"short__avatar",avatar:t.picture}),Object(j.jsx)(E,{username:t.username})]})}),ee=(n(84),function(e){var t=e.innerWidth,n=Object(g.c)((function(e){return e.activePage})),c=Object(g.c)((function(e){return e.currentUser})),a=Object(g.b)();return Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(Q,{}),Object(j.jsx)(A.b,{to:"/",onClick:function(){return a(B("HOME"))},children:Object(j.jsxs)("span",{className:"nav-li ".concat("HOME"===n?"active-nav":""),children:[Object(j.jsx)(u.a,{icon:_.i,className:"icon"})," Home"]})}),t<650?Object(j.jsx)(A.b,{className:"jobs",onClick:function(){return a(B("JOBS"))},to:"/jobs",children:Object(j.jsxs)("span",{className:"nav-li jobs ".concat("JOBS"===n?"active-nav":""),children:[Object(j.jsx)(u.a,{icon:_.b,className:"icon"})," Jobs"]})}):null,Object(j.jsx)(A.b,{to:"/profile",onClick:function(){return a(B("PROFILE"))},children:Object(j.jsx)("span",{className:"nav-li ".concat("PROFILE"===n?"active-nav":""),children:Object(j.jsx)(X,{userData:c,emptyUserArray:function(){return null},pageToPreview:function(){return null}})})}),Object(j.jsx)(A.b,{to:"/",children:Object(j.jsxs)("span",{className:"nav-li signOut",onClick:function(){a({type:h})},children:[Object(j.jsx)(u.a,{icon:_.p,className:"icon"}),"Sign Out"]})})]})})}),te=function(e){var t=e.handleClick;return Object(j.jsx)("div",{className:"camera__wrapper",onClick:t,children:Object(j.jsx)(u.a,{icon:_.d,className:"camera"})})},ne=n(9),ce=n(54),ae=n.n(ce),se=(n(102),function(e){var t=e.buttonName,n=e.handleButtonClick;return Object(j.jsx)("div",{className:"button__wrapper",onClick:n,children:Object(j.jsx)("button",{children:t})})}),re=(n(103),function(e){var t=e.userData,n=e.fieldName,a=e.removeUploadField,s=e.addCamera,r=Object(c.useState)(),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(c.useState)(),d=Object(i.a)(b,2),O=d[0],h=d[1],m=Object(c.useState)("Upload photo"),p=Object(i.a)(m,2),f=p[0],x=p[1],_=Object(c.useState)(!1),N=Object(i.a)(_,2),S=N[0],w=N[1],y=Object(c.useRef)(null),E=Object(g.b)();return Object(j.jsx)("div",{className:"uploadImg",children:Object(j.jsxs)("div",{className:"uploadImg__wrapper",children:[Object(j.jsx)("span",{className:"closeBtn",onClick:function(){a(),s()},children:"x"}),Object(j.jsxs)("div",{className:"buttons__wrapper",children:[Object(j.jsx)("input",{type:"file",ref:y,onChange:function(e){u(e.target.files[0]),x("Uploaded");var t=e.target.files[0].name.split(".")[1];t.match(/(jpg|jpeg|png)$/)?(w(!1),h(t)):w(!0)}}),Object(j.jsx)(se,{buttonName:f,handleButtonClick:function(){y.current.click()}}),Object(j.jsx)(se,{buttonName:"Save",handleButtonClick:function(){if(console.log("step2"),!S){var e=new FormData;e.append("file",o),e.append("upload_preset","siz3vvjh"),ae.a.post("https://api.cloudinary.com/v1_1/dslaqvh3p/image/upload",e).then((function(e){return function(e){console.log(t);var c="https://res.cloudinary.com/dslaqvh3p/image/upload/".concat(e,".").concat(O),r=t.password?"http://localhost:3000/users/":"http://localhost:3000/fbUsers/";fetch("".concat(r).concat(t.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(ne.a)({},n,c))}).then((function(e){return e.json()})).then((function(e){console.log("update",Object(ne.a)({},n,c)),console.log(v),s(),a(),E(v(Object(ne.a)({},n,c)))})).catch((function(e){return console.log(e)}))}(e.data.public_id)})).catch((function(e){return console.log(e)}))}}}),S?Object(j.jsx)("span",{className:"wrong__ext",children:"*Please, select a photo"}):null]})]})})}),ie=function(e){var t=e.userData,n=Object(g.c)((function(e){return e.currentUser.id})),a=Object(c.useState)(),s=Object(i.a)(a,2),r=s[0],l=s[1],o=Object(c.useState)(!0),u=Object(i.a)(o,2),b=u[0],d=u[1];return Object(j.jsxs)("div",{className:"background",children:[t.backgroundImg?Object(j.jsx)("img",{className:"bg__img",alt:"bg",src:t.backgroundImg}):null,b&&t.id===n?Object(j.jsx)(te,{handleClick:function(){l(!0),d(!1)}}):null,r?Object(j.jsx)(re,{fieldName:"backgroundImg",userData:t,removeUploadField:function(){l(!1)},addCamera:function(){d(!0)}}):null]})},le=function(e){var t=e.userData,n=e.updatePicture,a=Object(g.c)((function(e){return e.currentUser.id})),s=Object(c.useState)(),r=Object(i.a)(s,2),l=r[0],o=r[1],u=Object(c.useState)(!0),b=Object(i.a)(u,2),d=b[0],O=b[1];return Object(j.jsxs)("div",{className:"avatar__editable",children:[Object(j.jsx)(y,{className:"mainProfile",avatar:t.picture,updatePicture:n}),d&&t.id===a?Object(j.jsx)(te,{handleClick:function(){o(!0),O(!1)}}):null,l?Object(j.jsx)(re,{updatePicture:n,fieldName:"picture",userData:t,removeUploadField:function(){o(!1)},addCamera:function(){O(!0)}}):null]})},oe=function(e){var t=e.userData,n=e.updatePicture;return Object(j.jsxs)("div",{className:"profile__wrapper",children:[Object(j.jsx)(le,{userData:t,updatePicture:n}),Object(j.jsx)(E,{username:t.username})]})},ue=(n(104),n(33)),je=(n(105),function(e){var t=e.audience,n=Object(g.b)();Object(c.useEffect)((function(){return n(function(e){return function(t){console.log("reaches fetch"),e&&e.length&&e.forEach((function(e){fetch("".concat("http://localhost:3000/users/").concat(e)).then((function(e){return e.json()})).then((function(e){console.log("aud",e),t({type:f,payload:e})})).catch((function(e){return console.log(e)}))}))}}(t)),function(){return n((function(e){e({type:x})}))}}),[t,n]);var a=Object(g.c)((function(e){return e.audienceList})),s=a.length?a.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(A.b,{to:"/profile",children:Object(j.jsx)(X,{userData:e})})},e.id)})):null;return Object(j.jsx)(c.Fragment,{children:a.length?Object(j.jsx)("div",{className:"audience__list",children:Object(j.jsx)("ul",{children:s})}):null})}),be=function(e){var t=e.ids,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){s.length||t.forEach((function(e){fetch("http://localhost:3000/users/".concat(e)).then((function(e){return e.json()})).then((function(e){return r((function(t){return[].concat(Object(ue.a)(t),[e])}))}))}))})),Object(j.jsxs)("div",{className:"details__fields",children:[Object(j.jsx)(u.a,{icon:_.i,className:"icon"}),Object(j.jsx)("span",{children:"Family"}),Object(j.jsx)(je,{users:s})]})},de=function(){var e=Object(g.c)((function(e){return e.userToPreview.activeSubpage})),t=Object(g.c)((function(e){return e.userToPreview.about})),n=Object(g.b)();return Object(j.jsxs)("div",{className:"details ".concat("ABOUT"===e?"active-subpage":""),children:[Object(j.jsx)("span",{className:"details__title",onClick:function(){return n(C("ABOUT"===e?"":"ABOUT"))},children:"About"}),"ABOUT"===e&&t?Object(j.jsxs)("div",{className:"wrapper about__wrapper",children:[t.birthDate?Object(j.jsx)(k,{birthDate:t.birthDate}):null,t.livesIn?Object(j.jsx)(I,{livesIn:t.livesIn}):null,t.family?Object(j.jsx)(be,{ids:t.family}):null,t.employment?Object(j.jsx)(P,{employment:t.employment}):null,t.education?Object(j.jsx)(U,{education:t.education}):null]}):null]})},Oe=function(e){var t=e.languages;return Object(j.jsx)("div",{className:"details__fields",children:Object(j.jsxs)("span",{children:[Object(j.jsx)(u.a,{icon:_.j,className:"icon"}),"Languages: ",t]})})},he=function(e){var t=e.softwareSkills;return Object(j.jsx)("div",{className:"details__fields",children:Object(j.jsxs)("span",{children:[Object(j.jsx)(u.a,{icon:_.k,className:"icon"}),"Software skills: ",t]})})},me=function(e){var t=e.otherSkills;return Object(j.jsx)("div",{className:"details__fields",children:Object(j.jsxs)("span",{children:[Object(j.jsx)(u.a,{icon:_.f,className:"icon"}),"Other: ",t]})})},pe=function(){var e,t,n,c=Object(g.b)(),a=Object(g.c)((function(e){return e.userToPreview.activeSubpage})),s=Object(g.c)((function(e){return e.userToPreview.skills}));return Object(j.jsxs)("div",{className:"details ".concat("SKILLS"===a?"active-subpage":""),children:[Object(j.jsx)("span",{className:"details__title",onClick:function(){return c(C("SKILLS"===a?"":"SKILLS"))},children:"Skills"}),"SKILLS"===a&&s?Object(j.jsxs)("div",{className:"wrapper skills__wrapper",children:[(null===(e=s.languages)||void 0===e?void 0:e.length)?Object(j.jsx)(Oe,{languages:s.languages}):null,(null===(t=s.softwareSkills)||void 0===t?void 0:t.length)?Object(j.jsx)(he,{softwareSkills:s.softwareSkills}):null,(null===(n=s.otherSkills)||void 0===n?void 0:n.length)?Object(j.jsx)(me,{otherSkills:s.otherSkills}):null]}):null]})},fe=(n(106),function(){var e=Object(g.c)((function(e){return e.userToPreview.activeSubpage})),t=Object(g.c)((function(e){return e.userToPreview.audience}));return Object(j.jsxs)("div",{className:"details ".concat("AUDIENCE"===e?"active-subpage":""),children:[Object(j.jsx)("span",{className:"details__title",children:Object(j.jsx)(T,{audience:t})}),t&&"AUDIENCE"===e?Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)(je,{audience:t})}):null]})}),xe=(n(107),n(10)),ve=function(e){var t=e.labelName,n=e.handleBlur,a=e.handleInputChange,s=e.type,r=e.name,l=e.value,o=e.errorMsg,u=e.pattern,b=Object(c.useState)(l),d=Object(i.a)(b,2),O=d[0],h=d[1];return Object(j.jsxs)("div",{className:"details__fields input__field",children:[Object(j.jsx)("label",{children:t}),Object(j.jsxs)("div",{className:"input__wrapper",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:s,name:r,value:O,onBlur:n,onChange:function(e){"username"===e.target.name&&a(e.target.value),h(e.target.value)},pattern:u}),"about.birthDate"===r?Object(j.jsx)("span",{children:"Format YYYY/MM//DD"}):null]}),o?Object(j.jsxs)("span",{className:"errorMsg",children:[" ",o]}):null]})]})},ge=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({}),r=Object(i.a)(s,2),l=r[0],o=r[1],u="http://localhost:3000/users",b=Object(g.b)(),d=Object(g.c)((function(e){return e.currentUser})),O=function(e){return e.length?(a(null),!0):(a("*Username can not be empty"),!1)},h=function(e){var t=e.target.name,n=e.target.value;if("username"!==t||O(n))if(t.includes("about")){var c=t.split(".")[1];o(Object(xe.a)(Object(xe.a)({},l),{},{about:Object(xe.a)(Object(xe.a)({},d.about),{},Object(ne.a)({},c,n))}))}else o(Object(xe.a)(Object(xe.a)({},l),{},Object(ne.a)({},t,n)))},m=function(e){O(e)};return Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),l){var t=!0;for(var n in l)if(l[n]!==d[n]){t=!1;break}t||(l.username&&O(l.username)?l.username!==d.username&&fetch("".concat(u,"?username=").concat(l.username)).then((function(e){if(e.ok)return e.json();throw new Error("wrong request")})).then((function(e){e.length?a("Username is already picked. Choose another username"):(a(null),fetch("".concat(u,"/").concat(d.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){b(v(e)),b(C(""))})).catch((function(e){return console.log(e)})))})).catch((function(e){return console.log(e.message)})):l.about&&fetch("".concat(u,"/").concat(d.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){b(v(e)),b(C(""))})).catch((function(e){return console.log(e)})))}},children:[Object(j.jsx)(ve,{labelName:"Username",type:"text",name:"username",value:d.username,handleBlur:h,errorMsg:n,handleInputChange:m}),Object(j.jsx)(ve,{labelName:"Date of Birth",type:"text",name:"about.birthDate",value:d.about.birthDate,pattern:"(?:19|20)[0-9]{2}/(?:(?:0[1-9]|1[0-2])/(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])/(?:30))|(?:(?:0[13578]|1[02])-31))",handleBlur:h,handleInputChange:m}),Object(j.jsx)(ve,{labelName:"Country and City",type:"text",name:"about.livesIn",value:d.about.livesIn,handleBlur:h,handleInputChange:m}),Object(j.jsx)(ve,{labelName:"Work",type:"text",name:"about.employment",value:d.about.employment,handleBlur:h,handleInputChange:m}),Object(j.jsx)(ve,{labelName:"Education",type:"text",name:"about.education",value:d.about.education,handleBlur:h,handleInputChange:m}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})},_e=(n(108),function(){var e=Object(g.c)((function(e){return e.userToPreview.activeSubpage})),t=Object(g.b)();return Object(j.jsxs)("div",{className:"details ".concat("SETTINGS"===e?"active-subpage":""),children:[Object(j.jsxs)("span",{className:"details__title",onClick:function(){return t(C("SETTINGS"===e?"":"SETTINGS"))},children:[Object(j.jsx)(u.a,{icon:_.e,className:"icon"}),"Settings"]}),"SETTINGS"===e?Object(j.jsx)("div",{className:"wrapper settings__wrapper",children:Object(j.jsx)(ge,{})}):null]})}),Ne=function(e){var t=e.userData,n=Object(g.c)((function(e){return e.currentUser.id}));return Object(j.jsx)(c.Fragment,{children:t?Object(j.jsxs)("div",{className:"profile__info",children:[Object(j.jsx)(de,{}),Object(j.jsx)(pe,{}),Object(j.jsx)(fe,{}),t.id===n?Object(j.jsx)(_e,{}):null]}):null})},Se=function(e){var t=e.userData,n=e.updatePicture,a=e.updateUserData,s=e.showUserProfile,r=e.users;return Object(j.jsx)(c.Fragment,{children:t?Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(ie,{userData:t}),Object(j.jsxs)("div",{className:"main__profile",children:[Object(j.jsx)(oe,{userData:t,updatePicture:n}),Object(j.jsx)(Ne,{userData:t,updateUserData:a,showUserProfile:s,users:r})]})]}):null})},we=(n(109),n(39)),ye=n.n(we),Ee=n(55),Ce=(n(111),function(e){Object(R.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(L.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={loading:!0,person:null},e}return Object(M.a)(n,[{key:"componentDidMount",value:function(){var e=Object(Ee.a)(ye.a.mark((function e(){var t,n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.randomuser.me/",e.next=3,fetch("https://api.randomuser.me/");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.setState({person:n.results[0],loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?Object(j.jsx)("div",{children:"loading..."}):this.state.person?Object(j.jsx)("div",{className:"cards__wrapper",children:Object(j.jsxs)("div",{className:"card__item",children:[Object(j.jsx)("img",{src:this.state.person.picture.medium,alt:this.state.person.first,className:"profile__img"}),Object(j.jsxs)("span",{className:"name",children:[this.state.person.name.first," ",this.state.person.name.last]}),Object(j.jsxs)("p",{children:[" ",this.state.person.location.country]}),Object(j.jsxs)("div",{className:"button__wrapper",children:[Object(j.jsx)("span",{className:"button",children:"Reach"}),Object(j.jsx)("span",{className:"button",children:"Remove"})]})]})}):Object(j.jsx)("div",{children:"didn't get a person"})}}]),n}(c.Component)),Te=function(){return Object(j.jsxs)("div",{className:"network",children:[Object(j.jsx)("span",{className:"network__title",children:" People you may reach "}),Object(j.jsxs)("div",{className:"network__wrapper",children:[Object(j.jsx)(Ce,{}),Object(j.jsx)(Ce,{}),Object(j.jsx)(Ce,{}),Object(j.jsx)(Ce,{})]})]})},ke=function(){var e=Object(g.c)((function(e){return e.currentUser.audience}));return Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:"audience__main",children:[Object(j.jsxs)("div",{className:"existing__audience",children:[Object(j.jsxs)("div",{className:"audience__info",children:[Object(j.jsx)(u.a,{icon:_.v,className:"icon audience__icon"}),Object(j.jsxs)("span",{className:"audience__qt",children:["Audience ",null===e||void 0===e?void 0:e.length]})]}),Object(j.jsx)(je,{audience:e})]}),Object(j.jsx)("div",{className:"under__preview",children:Object(j.jsx)(Te,{})})]})})},Ue=n(11);n(112),n(113),n(114);var Pe=function(e){var t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1],r=e.max,l=void 0===r?2:r,o=e.text;return Object(j.jsxs)("span",{children:[a?"".concat(o.substring(0,l),"..."):o,Object(j.jsx)("a",{href:"/some/valid/uri",onClick:function(e){e.preventDefault(),s(!a)},children:a?"more":" less"})]})},Ie=function(e){var t=e.jobs;return Object(j.jsx)("div",{className:"wraper",children:t.map((function(e){return Object(j.jsxs)("div",{className:"divContainer",children:[Object(j.jsx)("span",{children:e.date}),Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:e.logo,className:"logo",alt:"logo"}),Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:e.link,children:e.title})})]}),Object(j.jsx)("p",{children:e.Jobdescription}),Object(j.jsx)("img",{src:e.img,className:" imgStyle",alt:"img"}),Object(j.jsx)(Pe,{max:10,text:e.text},e.id)]},e.id)}))})},De=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),r=Object(i.a)(s,2),l=r[0],o=r[1],u=Object(c.useState)(null),b=Object(i.a)(u,2),d=b[0],O=b[1];return Object(c.useEffect)((function(){fetch(" http://localhost:3000/jobs").then((function(e){if(!e.ok)throw Error("could not fetch tha data");return e.json()})).then((function(e){a(e),o(!1),O(null)})).catch((function(e){o(!1),O(e.message),console.log(e.message)}))}),[]),Object(j.jsxs)("div",{children:[d&&Object(j.jsxs)("div",{children:[" ",d," "]}),l&&Object(j.jsx)("div",{children:"Loading..."}),n&&Object(j.jsx)(Ie,{jobs:n})]})},Ae=function(){return Object(j.jsx)(De,{})};var Be=function(){return Object(j.jsx)("p",{className:"p",children:Object(j.jsx)("a",{href:"/some/valid/uri",children:"Search For Jobs"})})},Fe=(n(115),function(){return Object(j.jsxs)("form",{className:"job",children:[Object(j.jsx)("input",{type:"text",placeholder:"desciption",autoComplete:"on",name:"desciption"}),Object(j.jsx)("input",{type:"text",placeholder:"location",autoComplete:"on",name:"location"}),Object(j.jsx)("div",{className:"full__time",children:Object(j.jsxs)("label",{className:"full__time__label",children:["Full Time",Object(j.jsx)("input",{type:"checkbox",name:"full_time"}),Object(j.jsx)("span",{class:"checkmark"})]})})]})}),Le=function(){var e=Object(g.c)((function(e){return e.currentUser})),t=Object(g.c)((function(e){return e.userToPreview})),n=Object(c.useState)(!0),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(window.innerWidth),o=Object(i.a)(l,2),u=o[0],b=o[1];return Object(c.useEffect)((function(){var e=function(){b(window.innerWidth)};return window.addEventListener("resize",e),e}),[u]),Object(j.jsx)(c.Fragment,{children:Object(j.jsxs)(A.a,{children:[Object(j.jsx)(ee,{userData:e,innerWidth:u}),Object(j.jsxs)(Ue.c,{children:[Object(j.jsx)(Ue.a,{exact:!0,path:"/",children:Object(j.jsx)("div",{className:"main",style:{position:"relative"},children:Object(j.jsxs)("div",{className:"wrapper main__wrapper",style:{display:"flex"},children:[u>=650?Object(j.jsx)(F,{}):null,Object(j.jsxs)("div",{className:"timeline",children:[Object(j.jsx)(z,{}),Object(j.jsx)("div",{children:Object(j.jsx)($,{})})]}),u>=650?Object(j.jsxs)("div",{className:"job__section",style:{width:"25%"},children:[Object(j.jsx)("span",{className:"a",href:"#",onClick:function(e){e.preventDefault(),r(!s)},children:s?Object(j.jsx)(Be,{}):"back"}),s?Object(j.jsx)(Ae,{}):Object(j.jsx)(Fe,{})]}):null]})})}),Object(j.jsx)(Ue.a,{path:"/profile",children:Object(j.jsx)(Se,{userData:t.id===e.id?e:t})}),Object(j.jsx)(Ue.a,{path:"/audience",children:Object(j.jsx)(ke,{})})]})]})})};var Me,Re,Ge,He,Je=function(){var e=Object(g.c)((function(e){return e.currentUser}));return Object(j.jsx)("div",{className:"App",children:e?Object(j.jsx)(Le,{}):Object(j.jsx)(S,{})})},We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},qe=n(56),Ke=n(57),ze=n(25),Ve="HOME",Ye=(Me={},Object(ne.a)(Me,"SET_PAGE_TO_HOME",(function(){return"HOME"})),Object(ne.a)(Me,"SET_PAGE_TO_PROFILE",(function(){return"PROFILE"})),Object(ne.a)(Me,"SET_PAGE_TO_JOBS",(function(){return"JOBS"})),Me),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0,n=Ye[t.type];return n?n():e},$e=(Re={},Object(ne.a)(Re,O,(function(e,t){return t.payload})),Object(ne.a)(Re,h,(function(){return null})),Object(ne.a)(Re,m,(function(e,t){return Object(xe.a)(Object(xe.a)({},e),t.payload)})),Re),Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=$e[t.type];return n?n(e,t):e},Xe=(Ge={},Object(ne.a)(Ge,p,(function(e,t){return Object(xe.a)(Object(xe.a)({},t.payload),{},{activeSubpage:"ABOUT"})})),Object(ne.a)(Ge,"SET_SUBPAGE_TO_ABOUT",(function(e){return Object(xe.a)(Object(xe.a)({},e),{},{activeSubpage:"ABOUT"})})),Object(ne.a)(Ge,"SET_SUBPAGE_TO_AUDIENCE",(function(e){return Object(xe.a)(Object(xe.a)({},e),{},{activeSubpage:"AUDIENCE"})})),Object(ne.a)(Ge,"SET_SUBPAGE_TO_SKILLS",(function(e){return Object(xe.a)(Object(xe.a)({},e),{},{activeSubpage:"SKILLS"})})),Object(ne.a)(Ge,"SET_SUBPAGE_TO_SETTINGS",(function(e){return Object(xe.a)(Object(xe.a)({},e),{},{activeSubpage:"SETTINGS"})})),Object(ne.a)(Ge,"SET_SUBPAGE_TO_",(function(e){return Object(xe.a)(Object(xe.a)({},e),{},{activeSubpage:""})})),Ge),et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Xe[t.type];return n?n(e,t):e},tt=(He={},Object(ne.a)(He,f,(function(e,t){return[].concat(Object(ue.a)(e),[t.payload])})),Object(ne.a)(He,x,(function(e){return[]})),He),nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=tt[t.type];return n?n(e,t):e},ct=Object(ze.combineReducers)({currentUser:Qe,activePage:Ze,userToPreview:et,audienceList:nt}),at=Object(ze.createStore)(ct,Object(qe.composeWithDevTools)(Object(ze.applyMiddleware)(Ke.a)));r.a.render(Object(j.jsx)(g.a,{store:at,children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Je,{})})}),document.getElementById("root")),We()},62:function(e,t,n){},63:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.9055fec9.chunk.js.map